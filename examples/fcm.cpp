#include "fcm.h"
#include <iostream>

using namespace std ;

int main() {
    FCM *fcm;
    fcm = new FCM(2.0, 0.00001);

    int points = 140;
    int dims = 2;
    double **data;
    data= new double*[points];

    double staticData[points][dims] = {
        {0.2190, 0.7197},
        {0.6793, 0.3139},
        {0.8310, 0.4790},
        {0.0535, 0.7793},
        {0.6868, 0.5222},
        {0.0920, 0.7141},
        {0.6539, 0.1663},
        {0.7012, 0.4222},
        {0.9103, 0.3188},
        {0.7361, 0.4576},
        {0.6326, 0.1438},
        {0.7227, 0.3207},
        {0.7534, 0.4637},
        {0.0727, 0.8775},
        {0.2727, 0.6487},
        {0.7665, 0.3924},
        {0.3593, 0.6431},
        {0.9047, 0.1870},
        {0.4940, 0.5481},
        {0.2661, 0.7364},
        {0.0737, 0.7904},
        {0.5297, 0.4006},
        {0.4644, 0.5681},
        {0.7702, 0.1638},
        {0.6295, 0.2306},
        {0.7362, 0.0660},
        {0.8886, 0.2309},
        {0.5133, 0.3183},
        {0.5911, 0.2432},
        {0.5373, 0.3834},
        {0.4679, 0.6285},
        {0.2872, 0.7752},
        {0.1783, 0.7663},
        {0.8024, 0.2559},
        {0.4985, 0.3380},
        {0.5546, 0.5158},
        {0.8907, 0.3790},
        {0.6248, 0.0860},
        {0.7147, 0.5034},
        {0.2399, 0.6709},
        {0.6813, 0.0603},
        {0.1475, 0.8762},
        {0.5872, 0.4737},
        {0.5901, 0.4823},
        {0.5561, 0.1584},
        {0.4088, 0.6728},
        {0.5649, 0.4232},
        {0.4885, 0.2418},
        {0.6513, 0.5449},
        {0.2478, 0.9169},
        {0.4764, 0.5784},
        {0.3893, 0.5276},
        {0.2033, 0.7102},
        {0.9475, 0.3312},
        {0.1312, 0.7562},
        {0.8856, 0.2884},
        {0.0922, 0.7363},
        {0.3653, 0.5402},
        {0.2531, 0.7671},
        {0.7832, 0.5087},
        {0.3495, 0.7339},
        {0.2152, 0.8660},
        {0.6796, 0.2041},
        {0.2501, 0.8288},
        {0.8609, 0.3940},
        {0.8176, 0.4903},
        {0.7558, 0.1742},
        {0.8247, 0.3682},
        {0.1034, 0.7954},
        {0.5767, 0.3003},
        {0.8766, 0.2935},
        {0.4400, 0.5054},
        {0.8693, 0.2884},
        {0.8860, 0.1388},
        {0.4633, 0.5555},
        {0.7134, 0.4762},
        {0.6677, 0.2468},
        {0.6820, 0.4084},
        {0.3157, 0.6884},
        {0.4675, 0.5319},
        {0.3192, 0.8900},
        {0.6825, 0.4812},
        {0.8364, 0.1431},
        {0.7089, 0.4831},
        {0.8287, 0.3255},
        {0.2135, 0.6541},
        {0.3899, 0.6199},
        {0.7769, 0.3089},
        {0.7839, 0.2377},
        {0.2822, 0.9227},
        {0.8197, 0.1687},
        {0.6010, 0.2762},
        {0.8284, 0.5092},
        {0.1577, 0.8386},
        {0.2336, 0.7267},
        {0.6347, 0.3330},
        {0.7948, 0.4513},
        {0.6962, 0.3893},
        {0.7529, 0.3320},
        {0.6695, 0.5049},
        {0.6334, 0.4284},
        {0.2270, 0.8488},
        {0.6998, 0.2686},
        {0.5261, 0.4779},
        {0.3297, 0.7549},
        {0.4853, 0.4028},
        {0.8602, 0.3889},
        {0.5568, 0.2280},
        {0.7390, 0.4869},
        {0.5285, 0.3030},
        {0.3107, 0.5925},
        {0.5881, 0.5132},
        {0.5181, 0.5202},
        {0.3702, 0.7234},
        {0.4759, 0.2966},
        {0.0783, 0.7646},
        {0.3697, 0.5865},
        {0.6718, 0.2170},
        {0.6762, 0.0797},
        {0.5139, 0.3185},
        {0.7286, 0.1788},
        {0.7208, 0.4726},
        {0.3216, 0.7486},
        {0.4604, 0.3485},
        {0.6614, 0.0641},
        {0.6056, 0.1412},
        {0.6701, 0.4932},
        {0.5228, 0.2975},
        {0.2666, 0.7029},
        {0.2467, 0.6615},
        {0.8171, 0.5147},
        {0.1607, 0.8855},
        {0.7078, 0.1354},
        {0.4366, 0.5082},
        {0.7517, 0.1951},
        {0.9033, 0.3487},
        {0.5848, 0.0805},
        {0.6269, 0.4778},
        {0.6591, 0.1384},
        {0.5387, 0.1305}
    };

    for (int i = 0; i < points; ++i) {
        data[i] = new double[dims];
        data[i][0] = staticData[i][0];
        data[i][1] = staticData[i][1];
    }

    fcm->init(data, 3, points, dims);

    fcm->eval();

    double **centers;
    centers = fcm->getCenters();

    double **U;
    U = fcm->getMembershipMatrix();
    for (int i = 0; i < 140; ++i) {
        for (int j = 0; j < 3; ++j) {
               cout << U[i][j] << " ";
        }
        cout << endl;
    }

    cout << "gg" << endl;

    return 0;
}
